=================================================================
       GUIDE D'INSTALLATION - CLASSIFICATION D'IMAGES RESNET
=================================================================

ğŸ“‹ TABLE DES MATIÃˆRES
1. PrÃ©requis systÃ¨me
2. Installation des dÃ©pendances
3. Configuration de l'environnement
4. TÃ©lÃ©chargement des donnÃ©es
5. ExÃ©cution des scripts
6. Tests et vÃ©rification
7. DÃ©pannage courant
8. Structure des fichiers

=================================================================
1. PRÃ‰REQUIS SYSTÃˆME
=================================================================

âœ… OBLIGATOIRE :
- Python 3.8 ou supÃ©rieur
- pip (gestionnaire de paquets Python)
- 8 GB RAM minimum (16 GB recommandÃ©)
- 10 GB d'espace disque libre
- Connexion Internet (pour tÃ©lÃ©charger les datasets)

ğŸš€ OPTIONNEL (FORTEMENT RECOMMANDÃ‰) :
- GPU NVIDIA avec CUDA 11.7+
- 4 GB VRAM minimum (8 GB+ pour modÃ¨les profonds)
- cuDNN installÃ©

ğŸ“ VÃ‰RIFICATION PYTHON :
python --version    # Doit afficher Python 3.8+
pip --version       # VÃ©rifier que pip est installÃ©

=================================================================
2. INSTALLATION DES DÃ‰PENDANCES
=================================================================

Ã‰TAPE 1 : Cloner le repository
-------------------------------
git clone https://github.com/marwaneouz/Image-Classification-with-ResNet.git
cd Image-Classification-with-ResNet

Ã‰TAPE 2 : CrÃ©er un environnement virtuel
----------------------------------------
# MÃ©thode 1 : avec venv (recommandÃ©)
python -m venv resnet_env

# Activation (Linux/Mac)
source resnet_env/bin/activate

# Activation (Windows)
resnet_env\Scripts\activate

# MÃ©thode 2 : avec conda (alternative)
conda create -n resnet_env python=3.8
conda activate resnet_env

Ã‰TAPE 3 : Installer les dÃ©pendances
-----------------------------------
# Installation automatique depuis requirements.txt
pip install -r requirements.txt

# OU installation manuelle des packages principaux :
pip install torch==2.1.0 torchvision==0.16.0 --index-url https://download.pytorch.org/whl/cu118
pip install numpy==1.24.3 pandas==2.0.3 matplotlib==3.7.2
pip install seaborn==0.12.2 scikit-learn==1.3.0 tqdm==4.65.0
pip install opencv-python==4.8.0 thop==0.1.1 jupyter==1.0.0

Ã‰TAPE 4 : VÃ©rifier l'installation PyTorch
------------------------------------------
python -c "import torch; print(f'PyTorch: {torch.__version__}')"
python -c "import torch; print(f'CUDA disponible: {torch.cuda.is_available()}')"

=================================================================
3. CONFIGURATION DE L'ENVIRONNEMENT
=================================================================

Ã‰TAPE 1 : CrÃ©er la structure des dossiers
------------------------------------------
mkdir -p data/cifar10 data/fashion_mnist data/custom
mkdir -p results/models results/logs results/figures
mkdir -p configs

Ã‰TAPE 2 : Variables d'environnement (optionnel)
-----------------------------------------------
# CrÃ©er un fichier .env dans le dossier racine
echo "CUDA_VISIBLE_DEVICES=0" > .env
echo "OMP_NUM_THREADS=4" >> .env

# Charger les variables (Linux/Mac)
export $(cat .env | xargs)

=================================================================
4. TÃ‰LÃ‰CHARGEMENT DES DONNÃ‰ES
=================================================================

AUTOMATIQUE (recommandÃ©) :
--------------------------
python scripts/download_datasets.py

MANUEL :
--------
Les datasets CIFAR-10 et Fashion-MNIST se tÃ©lÃ©chargent automatiquement
lors de la premiÃ¨re exÃ©cution des scripts d'entraÃ®nement.

Pour le dataset personnalisÃ© :
1. CrÃ©er les dossiers : data/custom/train/ et data/custom/test/
2. Organiser vos images par classe dans ces dossiers
3. Structure attendue :
   data/custom/train/classe1/image1.jpg
   data/custom/train/classe2/image2.jpg
   ...

=================================================================
5. EXÃ‰CUTION DES SCRIPTS
=================================================================

ğŸ¯ ENTRAÃNEMENT RAPIDE (test)
-----------------------------
# Test sur CIFAR-10 avec ResNet-18 (5 epochs)
python src/training/train.py --dataset cifar10 --model resnet18 --epochs 5 --batch_size 32

ğŸ‹ï¸ ENTRAÃNEMENT COMPLET
------------------------
# CIFAR-10 avec configuration optimale
python src/training/train.py --dataset cifar10 --model resnet18 --epochs 200 --batch_size 128 --lr 0.01

# Fashion-MNIST
python src/training/train.py --dataset fashion_mnist --model resnet18 --epochs 100 --batch_size 128

# Dataset personnalisÃ©
python src/training/train.py --dataset custom --model resnet18 --epochs 50 --batch_size 64 --data_path data/custom

ğŸ”¬ Ã‰VALUATION
-------------
# Ã‰valuer un modÃ¨le entraÃ®nÃ©
python src/evaluation/evaluate.py --model_path results/models/resnet18_cifar10.pth --dataset cifar10

# GÃ©nÃ©ration des matrices de confusion et mÃ©triques
python src/evaluation/evaluate.py --model_path results/models/resnet18_cifar10.pth --dataset cifar10 --save_plots

ğŸ“Š DÃ‰MONSTRATION INTERACTIVE
-----------------------------
# Lancer Jupyter Notebook
jupyter notebook notebooks/demo.ipynb

# Alternative : Jupyter Lab
jupyter lab notebooks/demo.ipynb

=================================================================
6. TESTS ET VÃ‰RIFICATION
=================================================================

TESTS UNITAIRES :
-----------------
# ExÃ©cuter tous les tests
python -m pytest tests/ -v

# Test spÃ©cifique
python -m pytest tests/test_models.py -v

VÃ‰RIFICATION MANUELLE :
-----------------------
# Test d'import des modules
python -c "from src.models.resnet import ResNet18; print('Import rÃ©ussi !')"

# Test de crÃ©ation de modÃ¨le
python -c "from src.models.resnet import ResNet18; model = ResNet18(10); print(f'ModÃ¨le crÃ©Ã© avec {sum(p.numel() for p in model.parameters())} paramÃ¨tres')"

# Test de chargement des donnÃ©es
python -c "import torchvision; dataset = torchvision.datasets.CIFAR10(root='data', download=True); print(f'CIFAR-10 tÃ©lÃ©chargÃ© : {len(dataset)} images')"

=================================================================
7. DÃ‰PANNAGE COURANT
=================================================================

âŒ ERREUR : "No module named 'src'"
SOLUTION : ExÃ©cuter depuis le dossier racine du projet
cd Image-Classification-with-ResNet
export PYTHONPATH="${PYTHONPATH}:$(pwd)"

âŒ ERREUR : "CUDA out of memory"
SOLUTIONS :
- RÃ©duire la batch_size : --batch_size 32 ou 16
- Utiliser le CPU : --device cpu
- Fermer autres applications gourmandes

âŒ ERREUR : "RuntimeError: DataLoader worker ... is killed by signal"
SOLUTION : RÃ©duire num_workers
python src/training/train.py --num_workers 2

âŒ ERREUR : "Permission denied" (Linux/Mac)
SOLUTION : 
chmod +x scripts/*.py
sudo pip install -r requirements.txt

âŒ ERREUR : "SSL Certificate error" lors du tÃ©lÃ©chargement
SOLUTIONS :
pip install --trusted-host pypi.org --trusted-host pypi.python.org -r requirements.txt
# OU
pip install --upgrade certifi

âŒ ERREUR : ModÃ¨le trop lent sur CPU
SOLUTIONS :
- Utiliser ResNet-18 au lieu de ResNet-50
- RÃ©duire la taille des images
- Utiliser moins d'epochs pour tester

=================================================================
8. STRUCTURE DES FICHIERS
=================================================================

Image-Classification-with-ResNet/
â”œâ”€â”€ src/                          # Code source principal
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ resnet.py            # Architecture ResNet
â”‚   â”‚   â””â”€â”€ blocks.py            # Blocs rÃ©siduels
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ datasets.py          # Chargement des donnÃ©es
â”‚   â”‚   â””â”€â”€ transforms.py        # Transformations
â”‚   â”œâ”€â”€ training/
â”‚   â”‚   â”œâ”€â”€ train.py             # Script d'entraÃ®nement
â”‚   â”‚   â””â”€â”€ utils.py             # Fonctions utilitaires
â”‚   â””â”€â”€ evaluation/
â”‚       â”œâ”€â”€ evaluate.py          # Ã‰valuation des modÃ¨les
â”‚       â””â”€â”€ metrics.py           # Calcul des mÃ©triques
â”œâ”€â”€ notebooks/
â”‚   â””â”€â”€ demo.ipynb               # DÃ©monstration interactive
â”œâ”€â”€ configs/                     # Fichiers de configuration
â”œâ”€â”€ scripts/                     # Scripts utilitaires
â”œâ”€â”€ results/                     # RÃ©sultats et modÃ¨les
â”œâ”€â”€ data/                        # Datasets
â””â”€â”€ docs/                        # Documentation

=================================================================
9. COMMANDES UTILES
=================================================================

# VÃ©rifier l'utilisation GPU
nvidia-smi

# Monitorer l'entraÃ®nement en temps rÃ©el
tail -f results/logs/training.log

# Lister les modÃ¨les sauvegardÃ©s
ls -la results/models/

# VÃ©rifier la taille des datasets
du -sh data/

# Nettoyer le cache
rm -rf __pycache__/
rm -rf src/__pycache__/
rm -rf src/*/__pycache__/

=================================================================
10. RESSOURCES ET SUPPORT
=================================================================

ğŸ“š DOCUMENTATION :
- Rapport complet : docs/Final_Rapport_ResNet.pdf
- Paper ResNet original : https://arxiv.org/abs/1512.03385
- Documentation PyTorch : https://pytorch.org/docs/

ğŸ”— LIENS UTILES :
- Repository GitHub : https://github.com/marwaneouz/Image-Classification-with-ResNet
- Issues GitHub : https://github.com/marwaneouz/Image-Classification-with-ResNet/issues

ğŸ“§ CONTACT :
- Marwane Ouzaina : marwaneouzaina@example.com
 

=================================================================
11. LISTE DE CONTRÃ”LE D'INSTALLATION
=================================================================

â–¡ Python 3.8+ installÃ© et vÃ©rifiÃ©
â–¡ Repository clonÃ©
â–¡ Environnement virtuel crÃ©Ã© et activÃ©
â–¡ DÃ©pendances installÃ©es depuis requirements.txt
â–¡ PyTorch fonctionne (avec ou sans CUDA)
â–¡ Structure des dossiers crÃ©Ã©e
â–¡ Test d'import rÃ©ussi
â–¡ Premier entraÃ®nement test lancÃ©
â–¡ Notebook de dÃ©monstration accessible

Si tous les Ã©lÃ©ments sont cochÃ©s, l'installation est complÃ¨te !

=================================================================
FIN DU GUIDE D'INSTALLATION
=================================================================